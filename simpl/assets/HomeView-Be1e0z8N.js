import{g as w,s as F}from"./db-CyDEoqJs.js";import{_ as d,c as i,o as r,a as t,r as p,w as k,b as _,d as y,v as N,e as x,f as g,g as $,h as I,t as f,i as B,F as C,j as D,u as M}from"./index-CTLC_j14.js";const S={},V={xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-search"};function L(n,e){return r(),i("svg",V,e[0]||(e[0]=[t("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),t("path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"},null,-1),t("path",{d:"M21 21l-6 -6"},null,-1)]))}const Q=d(S,[["render",L]]),H={class:"search"},j={__name:"SearchBox",emits:["update:searchQuery"],setup(n,{emit:e}){const h=e,s=p("");return k(s,c=>{h("update:searchQuery",c)}),(c,m)=>(r(),i("div",H,[_(Q),y(t("input",{"onUpdate:modelValue":m[0]||(m[0]=v=>s.value=v),type:"text",placeholder:"Search notes...",class:"search-input"},null,512),[[N,s.value]])]))}},U=d(j,[["__scopeId","data-v-8d70aafd"]]),A={class:"note-head"},R={class:"note-title"},z={class:"note-date"},T={key:0,class:"note-text"},E={__name:"NoteItem",props:{note:{type:Object,required:!0}},setup(n){return(e,h)=>{const s=x("router-link");return r(),g(s,{to:`/note/${n.note.id}`,class:"note-item"},{default:$(()=>[t("div",A,[t("h3",R,f(n.note.title||"Untitled"),1),t("div",z,f(n.note.date),1)]),n.note.content?(r(),i("h4",T,f(n.note.content),1)):I("",!0)]),_:1},8,["to"])}}},G=d(E,[["__scopeId","data-v-082b4116"]]),O={};function J(n,e){return r(),i("footer",null,e[0]||(e[0]=[t("a",{href:"https://github.com/mxbv/Simpl",rel:"noreferrer noopener",target:"_blank",class:"footer-link"},"View on GitHub",-1)]))}const K=d(O,[["render",J],["__scopeId","data-v-bf66bd21"]]),P={},W={xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 24 24",fill:"#FFFFFF",stroke:"#FFFFFF","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-plus"};function X(n,e){return r(),i("svg",W,e[0]||(e[0]=[t("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),t("path",{d:"M12 5l0 14"},null,-1),t("path",{d:"M5 12l14 0"},null,-1)]))}const Y=d(P,[["render",X],["__scopeId","data-v-ee60a5ea"]]),Z={class:"note-list"},q={__name:"HomeView",setup(n){const e=p([]),h=M(),s=p(""),c=p([]);B(async()=>{e.value=await w(),c.value=[...e.value]});const m=async()=>{const o=`${new Date().toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"})}`,a={id:Date.now(),title:"",text:"",date:o};await F(a),h.replace(`/note/${a.id}`),e.value.unshift(a)},v=async()=>{e.value=await w()},b=l=>{if(!l){c.value=[...e.value];return}c.value=e.value.filter(o=>{const a=o.title?o.title.toLowerCase():"",u=o.content?o.content.toLowerCase():"";return a.includes(l.toLowerCase())||u.includes(l.toLowerCase())}).sort((o,a)=>a.createdAt-o.createdAt)};return k(s,l=>{b(l)}),(l,o)=>{const a=x("router-view");return r(),i("div",null,[t("header",null,[_(U,{searchQuery:s.value,"onUpdate:searchQuery":o[0]||(o[0]=u=>s.value=u)},null,8,["searchQuery"]),t("button",{class:"note-add",type:"button",title:"Create new record",onClick:m},[_(Y)])]),t("div",Z,[(r(!0),i(C,null,D(c.value,u=>(r(),g(G,{key:u.id,note:u,class:"note-item"},null,8,["note"]))),128))]),_(K),_(a,{onRefreshNotes:v})])}}},oe=d(q,[["__scopeId","data-v-e0fc07ac"]]);export{oe as default};
