import{_ as m,a as i,C as h,w as f,o as b,m as v,v as e,F as y,D as k,E as n,y as w,B as x,z as l,G as M,x as B}from"./index-V-uCeLZ6.js";import{g as C}from"./tmdb-CbNCIRfI.js";const N={class:"movies"},q={class:"container"},P={class:"movies-list"},R=["src","alt"],V={class:"movie-title"},$={class:"movie-raiting"},z={class:"release_date"},D={class:"pagination"},E=["disabled"],F={__name:"MoviesView",setup(L){const u=i([]),c=h(),p=w(),r=i(!1),o=i(Number(c.query.page)||1),d=async()=>{if(!r.value){r.value=!0;try{const t=await C(o.value);u.value=t}catch(t){console.error("Ошибка загрузки фильмов:",t)}r.value=!1}};f(()=>c.query.page,t=>{o.value=Number(t)||1,d()}),b(()=>{d()});const _=t=>{t<1||p.push({query:{page:t}})};return(t,a)=>{const g=x("router-link");return l(),v("main",N,[e("div",q,[a[2]||(a[2]=e("h2",{class:"movies-title"},"Trending",-1)),e("div",P,[(l(!0),v(y,null,k(u.value,s=>(l(),M(g,{key:s.id,to:`/movie/${s.id}`,class:"movie-card"},{default:B(()=>[e("img",{src:"https://image.tmdb.org/t/p/w500"+s.poster_path,alt:s.title,loading:"lazy"},null,8,R),e("h3",V,n(s.title),1),e("p",$,"Rating : "+n(s.vote_average)+" / 10",1),e("p",z,n(s.release_date),1)]),_:2},1032,["to"]))),128))]),e("div",D,[e("button",{onClick:a[0]||(a[0]=s=>_(o.value-1)),disabled:o.value<=1,class:"button"},"Previous",8,E),e("span",null,"Page "+n(o.value),1),e("button",{onClick:a[1]||(a[1]=s=>_(o.value+1)),class:"button"},"Next")])])])}}},S=m(F,[["__scopeId","data-v-72576ee3"]]);export{S as default};
